!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.GalaxyRide=e():t.GalaxyRide=e()}(this,(()=>(()=>{var t={};function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}function a(t,e){for(var a=0;a<e.length;a++){var o=e[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,i(o.key),o)}}function i(t){var a=function(t){if("object"!=e(t)||!t)return t;var a=t[Symbol.toPrimitive];if(void 0!==a){var i=a.call(t,"string");if("object"!=e(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==e(a)?a:a+""}function o(t,e,a){if(arguments.length<3)return t;function i(t){var e=document.createElement("div");e.style.color=t,document.body.appendChild(e);var a=window.getComputedStyle(e).color;document.body.removeChild(e);var i=a.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)/);return i?[parseInt(i[1]),parseInt(i[2]),parseInt(i[3])]:null}var o=i(t),r=i(e);if(!o||!r)return t;var n=Math.round(o[0]+(r[0]-o[0])*a),s=Math.round(o[1]+(r[1]-o[1])*a),h=Math.round(o[2]+(r[2]-o[2])*a);return"rgb(".concat(n,",").concat(s,",").concat(h,")")}return(function(){return t=function t(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.canvas=document.getElementById(e),this.ctx=this.canvas.getContext("2d"),this.particles=[],this.animations=[],this.emitters=[],this.options={width:a.width||window.innerWidth,height:a.height||window.innerHeight,background:a.background||"#000000",autoResize:!1!==a.autoResize},this.setupCanvas(),this.bindEvents(),this.animate()},e=[{key:"setupCanvas",value:function(){this.canvas.width=this.options.width,this.canvas.height=this.options.height}},{key:"bindEvents",value:function(){var t=this;this.options.autoResize&&window.addEventListener("resize",(function(){t.canvas.width=window.innerWidth,t.canvas.height=window.innerHeight})),this.canvas.addEventListener("mousemove",(function(e){t.mouseX=e.clientX,t.mouseY=e.clientY,t.triggerInteraction(e)}))}},{key:"addParticle",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={x:t.x||Math.random()*this.canvas.width,y:t.y||Math.random()*this.canvas.height,size:t.size||5,color:t.color||"#ffffff",velocity:t.velocity||{x:0,y:0},acceleration:t.acceleration||{x:0,y:0},life:t.life||1/0,created:Date.now(),behaviors:t.behaviors||[]};return this.particles.push(e),e}},{key:"addBehavior",value:function(t,e){t.behaviors.push(e)}},{key:"addEmitter",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={x:t.x||this.canvas.width/2,y:t.y||this.canvas.height/2,frequency:t.frequency||100,lifetime:t.lifetime||1/0,particleOptions:t.particleOptions||{},behaviors:t.behaviors||[],lastEmit:Date.now(),created:Date.now()};return this.emitters.push(e),e}},{key:"animate",value:function(){var t=this;this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(this.ctx.fillStyle=this.options.background,this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height)),this.particles.forEach((function(e,a){e.behaviors.forEach((function(a){return a(e,t)})),t.ctx.save(),t.ctx.fillStyle=e.color,t.ctx.beginPath(),t.ctx.arc(e.x,e.y,e.size,0,2*Math.PI),t.ctx.fill(),t.ctx.restore(),Date.now()-e.created>e.life&&t.particles.splice(a,1)})),requestAnimationFrame((function(){return t.animate()}))}},{key:"triggerInteraction",value:function(t){var e=this;this.particles.forEach((function(a){a.behaviors.forEach((function(i){i.onInteraction&&i.onInteraction(a,t,e)}))}))}},{key:"addWaveGrid",value:function(){for(var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a={cols:e.cols||40,rows:e.rows||30,spacing:e.spacing||25,dotSize:e.dotSize||2,amplitude:e.amplitude||30,speed:e.speed||.001,color:e.color||"#D4D4D4",hoverColor:e.hoverColor||"#00ff88",frequency:e.frequency||.3,autoWave:void 0===e.autoWave||e.autoWave,mouseInteraction:void 0===e.mouseInteraction||e.mouseInteraction,mouseRadius:e.mouseRadius||100,mouseStrength:e.mouseStrength||1,width:e.width||this.canvas.width,height:e.height||this.canvas.height},i=a.width/a.cols,o=a.height/a.rows,r=(this.canvas.width-a.width)/2,n=(this.canvas.height-a.height)/2,s=0;s<a.rows;s++)for(var h=0;h<a.cols;h++){var c=r+h*i,d=n+s*o,l={x:c,y:d,baseX:c,baseY:d,size:a.dotSize,color:a.color,velocity:{x:0,y:0},acceleration:{x:0,y:0},row:s,col:h,behaviors:[],life:1/0,created:Date.now(),originalSize:a.dotSize};this.particles.push(l),this.addBehavior(l,(function(e){var i=0;if(a.autoWave){var o=Date.now()*a.speed,r=Math.sqrt(Math.pow(e.col-a.cols/2,2)+Math.pow(e.row-a.rows/2,2));i=Math.sin(r*a.frequency+o)*a.amplitude}if(a.mouseInteraction&&t.mouseX&&t.mouseY){var n=t.mouseX-e.x,s=t.mouseY-e.y,h=Math.sqrt(n*n+s*s);if(h<a.mouseRadius){var c=(1-h/a.mouseRadius)*a.mouseStrength;i+=50*-c,e.size=e.originalSize+4*c,e.color=a.hoverColor}else e.size=e.originalSize,e.color=a.color}e.y=e.baseY+i}))}}},{key:"addSpiralGrid",value:function(){for(var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a={particles:e.particles||200,radius:e.radius||300,spacing:e.spacing||5,dotSize:e.dotSize||2,rotationSpeed:e.rotationSpeed||.001,color:e.color||"#4488ff",hoverColor:e.hoverColor||"#ff0088",mouseRadius:e.mouseRadius||100,mouseStrength:e.mouseStrength||1,expansionSpeed:e.expansionSpeed||.2},i=this.canvas.width/2,o=this.canvas.height/2,r=0;r<a.particles;r++){var n=r/a.particles*Math.PI*20,s=r/a.particles*a.radius,h=i+Math.cos(n)*s,c=o+Math.sin(n)*s,d={x:h,y:c,baseX:h,baseY:c,angle:n,radius:s,size:a.dotSize,color:a.color,originalColor:a.color,velocity:{x:0,y:0},acceleration:{x:0,y:0},behaviors:[],life:1/0,created:Date.now(),originalSize:a.dotSize,index:r};this.particles.push(d),this.addBehavior(d,(function(e){var r=Date.now()*a.rotationSpeed;if(e.angle+=a.rotationSpeed,e.radius=e.index/a.particles*a.radius+20*Math.sin(r+.1*e.index),e.x=i+Math.cos(e.angle)*e.radius,e.y=o+Math.sin(e.angle)*e.radius,t.mouseX&&t.mouseY){var n=t.mouseX-e.x,s=t.mouseY-e.y,h=Math.sqrt(n*n+s*s);if(h<a.mouseRadius){var c=(1-h/a.mouseRadius)*a.mouseStrength;e.x-=n*c*.1,e.y-=s*c*.1,e.size=e.originalSize+4*c,e.color=a.hoverColor}else e.size=e.originalSize,e.color=e.originalColor}}))}}},{key:"addStarfield",value:function(){for(var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a={stars:e.stars||100,speed:e.speed||4,maxDepth:e.maxDepth||1e3,color:e.color||"#ffffff",colorStart:e.colorStart,colorEnd:e.colorEnd,minSize:e.minSize||1,maxSize:e.maxSize||3,trail:e.trail||.2},i=0;i<a.stars;i++){var r={x:Math.random()*this.canvas.width-this.canvas.width/2,y:Math.random()*this.canvas.height-this.canvas.height/2,z:Math.random()*a.maxDepth,prevX:0,prevY:0,color:a.color,behaviors:[]};this.particles.push(r),this.addBehavior(r,(function(e){e.prevX=e.x,e.prevY=e.y,e.z-=a.speed,e.z<1&&(e.z=a.maxDepth,e.x=Math.random()*t.canvas.width-t.canvas.width/2,e.y=Math.random()*t.canvas.height-t.canvas.height/2,e.prevX=e.x,e.prevY=e.y);var i=a.maxDepth/(a.maxDepth+e.z),r=e.x*i+t.canvas.width/2,n=e.y*i+t.canvas.height/2,s=e.prevX*i+t.canvas.width/2,h=e.prevY*i+t.canvas.height/2,c=(a.maxDepth-e.z)/a.maxDepth*(a.maxSize-a.minSize)+a.minSize;if(a.colorStart&&a.colorEnd){var d=(a.maxDepth-e.z)/a.maxDepth,l=o(a.colorStart,a.colorEnd,d);e.color=l}t.ctx.beginPath(),t.ctx.moveTo(s,h),t.ctx.lineTo(r,n),t.ctx.strokeStyle=e.color,t.ctx.lineWidth=c,t.ctx.stroke(),t.ctx.beginPath(),t.ctx.arc(r,n,c/2,0,2*Math.PI),t.ctx.fillStyle=e.color,t.ctx.fill()}))}}},{key:"addVortex",value:function(){for(var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a={particles:e.particles||200,minRadius:e.minRadius||5,maxRadius:e.maxRadius||300,speed:e.speed||2,particleSize:e.particleSize||3,colorStart:e.colorStart||"#ff0088",colorEnd:e.colorEnd||"#00ffff",inwardSpeed:e.inwardSpeed||.3,trail:e.trail||.4,respawnRadius:e.respawnRadius||350},i=this.canvas.width/2,r=this.canvas.height/2,n=0;n<a.particles;n++){var s=Math.random()*Math.PI*2,h=a.maxRadius,c={x:i+Math.cos(s)*h,y:r+Math.sin(s)*h,angle:s,radius:h,speed:a.speed*(.5+.5*Math.random()),size:a.particleSize,color:a.colorStart,trail:[]};this.particles.push(c),this.addBehavior(c,(function(e){e.trail.push({x:e.x,y:e.y}),e.trail.length>10&&e.trail.shift(),e.angle+=e.speed*(1+(a.maxRadius-e.radius)/a.maxRadius),e.radius-=a.inwardSpeed,e.x=i+Math.cos(e.angle)*e.radius,e.y=r+Math.sin(e.angle)*e.radius;var n=1-(e.radius-a.minRadius)/(a.maxRadius-a.minRadius);if(e.color=o(a.colorStart,a.colorEnd,Math.max(0,Math.min(1,n))),e.trail.length>1){t.ctx.beginPath(),t.ctx.moveTo(e.trail[0].x,e.trail[0].y);for(var s=1;s<e.trail.length;s++)t.ctx.lineTo(e.trail[s].x,e.trail[s].y);t.ctx.strokeStyle=e.color,t.ctx.lineWidth=e.size*(1-.5*n),t.ctx.lineCap="round",t.ctx.stroke()}e.radius<a.minRadius&&(e.radius=a.respawnRadius,e.angle=Math.random()*Math.PI*2,e.trail=[],e.speed=a.speed*(.5+.5*Math.random()))}))}}},{key:"addFireflies",value:function(){for(var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a={fireflies:e.fireflies||50,maxSpeed:e.maxSpeed||1,size:e.size||4,glowSize:e.glowSize||20,color:e.color||"purple",wanderStrength:e.wanderStrength||.1,fadeSpeed:e.fadeSpeed||.02,magnetic:void 0===e.magnetic||e.magnetic,magneticRadius:e.magneticRadius||200,magneticStrength:e.magneticStrength||.2},i=0;i<a.fireflies;i++){var o={x:Math.random()*this.canvas.width,y:Math.random()*this.canvas.height,vx:(Math.random()-.5)*a.maxSpeed,vy:(Math.random()-.5)*a.maxSpeed,phase:Math.random()*Math.PI*2,brightness:Math.random(),isAttracted:!1,behaviors:[]};this.particles.push(o),this.addBehavior(o,(function(e){if(e.phase+=.05,e.brightness=.5*Math.sin(e.phase)+.5,a.magnetic&&t.mouseX&&t.mouseY){var i=t.mouseX-e.x,o=t.mouseY-e.y,r=Math.sqrt(i*i+o*o);if(r<a.magneticRadius){var n=(1-r/a.magneticRadius)*a.magneticStrength;e.vx+=i*n,e.vy+=o*n,e.isAttracted=!0}else e.isAttracted=!1}e.isAttracted||(e.vx+=(Math.random()-.5)*a.wanderStrength,e.vy+=(Math.random()-.5)*a.wanderStrength);var s=Math.sqrt(e.vx*e.vx+e.vy*e.vy);s>a.maxSpeed&&(e.vx=e.vx/s*a.maxSpeed,e.vy=e.vy/s*a.maxSpeed),e.x+=e.vx,e.y+=e.vy,e.x<0&&(e.x=t.canvas.width),e.x>t.canvas.width&&(e.x=0),e.y<0&&(e.y=t.canvas.height),e.y>t.canvas.height&&(e.y=0);var h=t.ctx.createRadialGradient(e.x,e.y,0,e.x,e.y,a.glowSize);h.addColorStop(0,"rgba(128, 0, 128, ".concat(.3*e.brightness,")")),h.addColorStop(1,"rgba(0, 0, 0, 0)"),t.ctx.fillStyle=h,t.ctx.beginPath(),t.ctx.arc(e.x,e.y,a.glowSize,0,2*Math.PI),t.ctx.fill(),t.ctx.beginPath(),t.ctx.arc(e.x,e.y,a.size*e.brightness,0,2*Math.PI),t.ctx.fillStyle=a.color,t.ctx.fill()}))}}}],e&&a(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}()).behaviors={wave:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.001,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.3,i=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;return function(r,n){var s=Date.now()*e,h=Math.sqrt(Math.pow(r.col-i/2,2)+Math.pow(r.row-o/2,2));r.y=r.baseY+Math.sin(h*a+s)*t}}},t.default})()));